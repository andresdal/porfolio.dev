---
const personalImageAlt = "Andrés D'Alessandro"
import Badge from "@/components/Badge.astro"
import LinkedInIcon from "@/components/icons/LinkedIn.astro"
import MailIcon from "@/components/icons/Mail.astro"
import SocialPill from "@/components/SocialPill.astro"
---

<div class="hero-container min-h-[80vh] flex items-center justify-center relative">
  <div class="max-w-6xl w-full px-4">
    <!-- Imagen flotante con efecto -->
    <div class="flex justify-center mb-8 animate-float">
      <div class="relative group">
        <div class="absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full blur-2xl opacity-50 group-hover:opacity-75 transition-opacity duration-500"></div>
        <img
          class="relative rounded-full shadow-2xl size-32 md:size-40 border-4 border-white/10 group-hover:scale-110 transition-transform duration-500"
          src="/me.png"
          alt={personalImageAlt}
        />
      </div>
    </div>

    <!-- Badge animado -->
    <div class="flex justify-center mb-8">
      <a
        href="https://www.linkedin.com/in/andresdalessandro/"
        target="_blank"
        rel="noopener"
        class="inline-block transform hover:scale-110 transition-all duration-300"
      >
        <Badge>Disponible para trabajar</Badge>
      </a>
    </div>

    <!-- Títulos con efecto de texto -->
    <div class="text-center space-y-4 mb-12">
      <h1 class="text-effect hero-text-1">
        HEY, SOY ANDRÉS
        <span>HEY, SOY ANDRÉS</span>
      </h1>
      <h2 class="text-effect hero-text-2">
        BACKEND DEVELOPER
        <span>BACKEND DEVELOPER</span>
      </h2>
      <h3 class="text-effect hero-text-3" style="font-size: 5.3rem;">
        PHP • LARAVEL • GO • REACT
        <span>PHP • LARAVEL • GO • REACT</span>
      </h3>
    </div>

    <!-- Descripción con animación -->
    <div class="max-w-3xl mx-auto">
      <p
        class="text-lg md:text-xl text-gray-300 text-center leading-relaxed opacity-0 hero-description"
      >
        <strong class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500 font-bold"
          >Estudiante avanzado de Ingeniería en Sistemas de Información</strong
        > de Buenos Aires, Argentina. Especializado en el desarrollo backend con PHP, Laravel, Go, Javascript y React, enfocado en la optimización de procesos y la construcción de arquitecturas escalables.
      </p>
    </div>

    <!-- Social Pills con animación -->
    <nav class="flex flex-wrap justify-center gap-4 mt-12 hero-social">
      <SocialPill href="mailto:andres.dalesssandro@gmail.com">
        <MailIcon class="size-4" />
        Contáctame
      </SocialPill>
      <SocialPill href="https://www.linkedin.com/in/andresdalessandro/">
        <LinkedInIcon class="size-4" />
        LinkedIn
      </SocialPill>
    </nav>
  </div>
</div>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  document.addEventListener('astro:page-load', () => {
    // Animar títulos con efecto de gradiente en scroll
    const textElements = document.querySelectorAll('.text-effect');
    
    textElements.forEach((text) => {
      gsap.to(text, {
        backgroundSize: '100%',
        ease: 'none',
        scrollTrigger: {
          trigger: text,
          start: 'top 80%',
          end: 'top 20%',
          scrub: true,
        },
      });
    });

    // Animar descripción con fade in
    gsap.to('.hero-description', {
      opacity: 1,
      y: 0,
      duration: 1.2,
      delay: 0.5,
      ease: 'power3.out'
    });

    // Animar social pills
    gsap.from('.hero-social > *', {
      opacity: 0,
      y: 30,
      duration: 0.8,
      stagger: 0.2,
      delay: 1,
      ease: 'back.out(1.7)'
    });

    // Efecto parallax suave en el hero
    gsap.to('.hero-container', {
      yPercent: 30,
      ease: 'none',
      scrollTrigger: {
        trigger: '.hero-container',
        start: 'top top',
        end: 'bottom top',
        scrub: true
      }
    });
  });
</script>

<style>
  .hero-description {
    transform: translateY(20px);
  }

  .hero-social {
    opacity: 0;
  }
</style>
