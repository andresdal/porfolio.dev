---
const personalImageAlt = "Andrés D'Alessandro"
import Badge from "@/components/Badge.astro"
import LinkedInIcon from "@/components/icons/LinkedIn.astro"
import MailIcon from "@/components/icons/Mail.astro"
import SocialPill from "@/components/SocialPill.astro"
---

<div class="hero-container">
  <div class="hero-content">
    <!-- Imagen con efecto Material -->
    <div class="hero-image-wrapper">
      <img
          class="hero-image"
          src="/me2.png"
          alt={personalImageAlt}
        />
    </div>

    <!-- Badge animado -->
    <div class="hero-badge">
      <a
        href="https://www.linkedin.com/in/andresdalessandro/"
        target="_blank"
        rel="noopener"
      >
        <Badge>Disponible para trabajar</Badge>
      </a>
    </div>

    <!-- Títulos con efecto de texto -->
    <div class="hero-titles">
      <h1 class="text-effect hero-text-1">
        HEY, SOY ANDRÉS
        <span>HEY, SOY ANDRÉS</span>
      </h1>
      <h2 class="text-effect hero-text-2">
        BACKEND DEVELOPER
        <span>BACKEND DEVELOPER</span>
      </h2>
      <h3 class="text-effect hero-text-3">
        PHP • LARAVEL • GO • REACT
        <span>PHP • LARAVEL • GO • REACT</span>
      </h3>
    </div>

    <!-- Descripción con animación -->
    <div class="hero-description-wrapper">
      <p class="hero-description">
        <strong class="hero-highlight"
          >Estudiante avanzado de Ingeniería en Sistemas de Información</strong
        > de Buenos Aires, Argentina. Especializado en el desarrollo backend con PHP, Laravel, Go, Javascript y React, enfocado en la optimización de procesos y la construcción de arquitecturas escalables.
      </p>
    </div>

    <!-- Social Pills con animación -->
    <nav class="hero-social">
      <SocialPill href="mailto:andres.dalesssandro@gmail.com">
        <MailIcon class="size-4" />
        Contáctame
      </SocialPill>
      <SocialPill href="https://www.linkedin.com/in/andresdalessandro/">
        <LinkedInIcon class="size-4" />
        LinkedIn
      </SocialPill>
    </nav>
  </div>
</div>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  document.addEventListener('astro:page-load', () => {
    // Animar títulos con efecto de gradiente en scroll
    const textElements = document.querySelectorAll('.text-effect');
    
    textElements.forEach((text) => {
      gsap.to(text, {
        backgroundSize: '100%',
        ease: 'none',
        scrollTrigger: {
          trigger: text,
          start: 'top 80%',
          end: 'top 20%',
          scrub: true,
        },
      });
    });

    // Animar descripción con fade in
    gsap.to('.hero-description', {
      opacity: 1,
      y: 0,
      duration: 1.2,
      delay: 0.5,
      ease: 'power3.out'
    });

    // Animar social pills
    gsap.from('.hero-social > *', {
      opacity: 0,
      y: 30,
      duration: 0.8,
      stagger: 0.2,
      delay: 1,
      ease: 'back.out(1.7)'
    });

    // Efecto parallax suave en el hero
    gsap.to('.hero-container', {
      yPercent: 30,
      ease: 'none',
      scrollTrigger: {
        trigger: '.hero-container',
        start: 'top top',
        end: 'bottom top',
        scrub: true
      }
    });
  });
</script>

<style>
  .hero-container {
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: 6rem 2rem 2rem;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
  }

  .hero-content {
    max-width: 1100px;
    width: 100%;
    text-align: center;
    padding: 0 1rem;
  }
  
  @media (max-width: 768px) {
    .hero-container {
      min-height: auto;
      padding: 6rem 0.5rem 3rem;
    }
    
    .hero-content {
      padding: 0 0.5rem;
    }
  }

  .hero-image-wrapper {
    display: flex;
    justify-content: center;
    margin-bottom: 2rem;
  }

  .hero-image {
    width: 8rem;
    height: 8rem;
    border-radius: 50%;
    box-shadow: var(--md-elevation-3);
    transition: all 0.3s ease;
    border: 4px solid var(--md-primary);
    background-color: var(--md-surface-variant);
  }

  .hero-image:hover {
    transform: scale(1.05);
    box-shadow: var(--md-elevation-5);
  }

  @media (min-width: 640px) {
    .hero-image {
      width: 10rem;
      height: 10rem;
    }
  }

  @media (min-width: 768px) {
    .hero-image {
      width: 12rem;
      height: 12rem;
    }
  }

  .hero-badge {
    display: flex;
    justify-content: center;
    margin-bottom: 1.5rem;
  }

  .hero-badge a {
    display: inline-block;
    transition: transform 0.3s ease;
  }

  .hero-badge a:hover {
    transform: scale(1.05);
  }
  
  @media (max-width: 640px) {
    .hero-badge {
      margin-bottom: 1rem;
    }
  }

  .hero-titles {
    text-align: center;
    margin-bottom: 2rem;
    width: 100%;
    overflow: hidden;
  }

  .hero-text-1, .hero-text-2, .hero-text-3 {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
  }

  .hero-text-3 {
    font-size: clamp(2rem, 6vw, 4.5rem) !important;
  }

  @media (max-width: 640px) {
    .hero-text-1 {
      font-size: clamp(2.75rem, 7vw, 3.5rem) !important;
      letter-spacing: -0.03em;
    }

    .hero-text-2 {
      font-size: clamp(2.3rem, 7vw, 3.5rem) !important;
      letter-spacing: -0.03em;
    }

    .hero-text-3 {
      font-size: clamp(1.8rem, 5vw, 2.5rem) !important;
      letter-spacing: -0.02em;
    }
  }

  
  
  
  @media (min-width: 768px) {
    .hero-titles {
      margin-bottom: 3rem;
    }
  }

  .hero-description-wrapper {
    max-width: 48rem;
    margin: 0 auto 2rem;
    padding: 0 1rem;
  }

  .hero-description {
    font-size: 0.95rem;
    line-height: 1.7;
    color: var(--md-on-surface);
    opacity: 0.8;
    text-align: center;
    transform: translateY(20px);
  }
  
  @media (min-width: 640px) {
    .hero-description {
      font-size: 1.125rem;
      line-height: 1.8;
    }
    
    .hero-description-wrapper {
      margin-bottom: 2.5rem;
    }
  }

  @media (min-width: 768px) {
    .hero-description {
      font-size: 1.25rem;
    }
    
    .hero-description-wrapper {
      margin-bottom: 3rem;
      padding: 0;
    }
  }

  .hero-highlight {
    color: var(--md-primary);
    font-weight: 700;
  }

  .hero-social {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.75rem;
    opacity: 0;
  }
  
  @media (min-width: 640px) {
    .hero-social {
      gap: 1rem;
    }
  }
</style>
